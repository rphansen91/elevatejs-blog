{"componentChunkName":"component---src-templates-post-js","path":"/blog/ts-mongo-codegen/","result":{"data":{"markdownRemark":{"html":"<p><a href=\"https://www.npmjs.com/package/ts-mongo-codegen\"><img src=\"https://img.shields.io/npm/v/ts-mongo-codegen.svg\" alt=\"npm\"></a>\n<a href=\"https://www.npmjs.com/package/ts-mongo-codegen\"><img src=\"https://img.shields.io/npm/dw/ts-mongo-codegen.svg\" alt=\"downloads\"></a>\n<a href=\"https://travis-ci.com/rphansen91/ts-mongo-codegen\"><img src=\"https://travis-ci.com/rphansen91/ts-mongo-codegen.svg?branch=master\" alt=\"Travis\"></a>\n<a href=\"https://coveralls.io/github/rphansen91/ts-mongo-codegen?branch=master\"><img src=\"https://coveralls.io/repos/github/rphansen91/ts-mongo-codegen/badge.svg?branch=master\" alt=\"Coverage Status\"></a>\n<a href=\"https://david-dm.org/rphansen91/ts-mongo-codegen\"><img src=\"https://david-dm.org/rphansen91/ts-mongo-codegen.svg\" alt=\"Dev Dependencies\"></a>\n<a href=\"https://snyk.io/test/github/rphansen91/ts-mongo-codegen?targetFile=package.json\"><img src=\"https://snyk.io/test/github/rphansen91/ts-mongo-codegen/badge.svg?targetFile=package.json\" alt=\"Known Vulnerabilities\"></a>\n<a href=\"https://github.com/prettier/prettier\"><img src=\"https://img.shields.io/badge/styled_with-prettier-ff69b4.svg\" alt=\"styled with prettier\"></a></p>\n<p>This project generates types for a seamless integration between GraphQL and MongoDB.</p>\n<h3>Usage</h3>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">yarn</span> <span class=\"token function\">add</span> ts-mongo-codegen</code></pre></div>\n<p><strong>./codegen.json</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"schema\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"http://localhost:8082\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"generates\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"./src/gql/types.ts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">\"plugins\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token string\">\"typescript\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"typescript-operations\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"typescript-resolvers\"</span><span class=\"token punctuation\">,</span>\n        <span class=\"token string\">\"ts-mongo-codegen\"</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">]</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>./gql/books.schema</strong></p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">type</span> <span class=\"token class-name\">Book</span> <span class=\"token directive function\">@collection</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"books\"</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token attr-name\">id</span><span class=\"token punctuation\">:</span> ObjectId\n  <span class=\"token attr-name\">title</span><span class=\"token punctuation\">:</span> String\n  <span class=\"token attr-name\">author</span><span class=\"token punctuation\">:</span> String\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><strong>./src/stores/mongo.ts</strong> </p>\n<div class=\"gatsby-highlight\" data-language=\"js\"><pre class=\"language-js\"><code class=\"language-js\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> connect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'ts-mongo-codegen'</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> mongoFactory <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'../gql/types'</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">async</span> <span class=\"token keyword\">function</span> <span class=\"token function\">mongoStore</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">url<span class=\"token operator\">:</span> string<span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> string</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> db <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">await</span> <span class=\"token function\">connect</span><span class=\"token punctuation\">(</span>url<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">db</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">const</span> datastore <span class=\"token operator\">=</span> <span class=\"token function\">mongoFactory</span><span class=\"token punctuation\">(</span>db<span class=\"token punctuation\">)</span>\n  <span class=\"token comment\">// datastore.books is a mongo collection</span>\n  <span class=\"token keyword\">return</span> datastore\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Upcoming Release</h3>\n<ul>\n<li>Augment your schema with CRUD operations for your collections.</li>\n<li>Generate a changelog to keep a running list of changes to a document</li>\n<li>Generate subscriptions</li>\n</ul>\n<p>Turns This</p>\n<p><img src=\"https://github.com/rphansen91/ts-mongo-codegen/raw/master/example_schema.png\" alt=\"Example Schema\"></p>\n<p>Into This</p>\n<p><img src=\"https://github.com/rphansen91/ts-mongo-codegen/raw/master/example_augmented.png\" alt=\"Into Tis\"></p>","frontmatter":{"publishedAt":"June 20, 2020","title":"TypeScript Mongo Codegen","description":"Code generation for seamless interaction between GraphQL and MongoDB","author":"Ryan P. Hansen","urlToImage":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsSAAALEgHS3X78AAADVklEQVQ4y2VTW0jTURg/Z4uahlFE4UP1UBRRSVDKtv/lbM5t2Szn/v+pM5euTZnaBa3IGmiWZmatmzqdzvuw0IIKwkuYmmZSdCNKegh6q5eCCKK30znHZs4+OHyX33d+5/vO+Q4QRVElCAIERIgGEYnYgshBpBNVACBFBEtYp/0vj+d5SLloAJIVO08qChRkSUgvQINFXE5tdxPvyT2v20xtjHOj8hZzsADPC7G8wMPaMScc+HUCqHdzUL+HZ2SOSs06dxOHvW0on/rOGt2SSIW0ssVkcwAhI6CKVdDXA7zmnLhzBS7m77uwpag4jHBxl6ma+gWZ0kp84LkCZ2Gg5jQqvYCirywjz8w0l7tTUXrVkbQmMSEOLJDCk8nhqnAerm4p6VgQVgA1iD2aks/uNlFQ/0OcZw1Me7ceUnpDhte+i1nd7/fedY/IDaeHpcaqgfS6+ibbqVt3My75p9OCFTPWUNFwZuDiLWudlXV0HgNnsvzvlV7hHXOVFgrxh4Ka72VdZjziuoEHrY09Vcd8vzs89Zdn9/QZH1ubsxu8NT/7PFd/zGb342dyh59sg9ct5Uq6X4y0bHFpFTtWGJZaz+xa5bqp/eru1GKf3/Fh2N5c6ziSz8PGpJhIN+6TJUW9+Zdnpve3lkzIrToWM2THbVRvg/OvhJLnXhPEg2WuBvSx/I4DH+7OGLqXfSVnWm6vodB9+RrLebOvu/xtWrfxidyWOCN3jj2XujawonTm5Tr6OHQYZVMq/HBnkJ1ww1s20He8GvfLtR/fmW5vGpUClY+kwHGKTdrarFNy6MqIHFhP2n35xTWECelTinlMOdCEDDGMMJnTA5z+lhU5hdq3jxuDBRPpQcuk1OYnq3XC3vppMqvdP21vf01Iw1NSqGnc1pI2YQs6CK6h+yrMxRCJSDU/mBu57QDnYrBYwrbaBNL2+2+eUfwipxePSS2GxTmHjQchmeNYLc/BqK9DL3Y0sxkOSTeVAYtvSUGKg80jqQQ9lUIPJ+VQKfXPpRxRzGR2Kp/ZO5SNFp+SEMXo/g531OfmOE4VOZXauzSJEBfOwoXVHEVOhUHQxyzMo3ujfgpCiGlynzA1NXW10WhcTW0WXAsAaVnx+cAD+NgeZL9CI2j/yyOapf8Bvu03HDnqQtcAAAAASUVORK5CYII=","aspectRatio":1.3195876288659794,"src":"/static/49e7ad49fdedb40fca5438c38875d9d2/bc8e0/ts-mongo-codegen.png","srcSet":"/static/49e7ad49fdedb40fca5438c38875d9d2/6ba37/ts-mongo-codegen.png 512w,\n/static/49e7ad49fdedb40fca5438c38875d9d2/bc8e0/ts-mongo-codegen.png 800w","sizes":"(max-width: 800px) 100vw, 800px"}}},"sourceName":"TypeScript Mongo Codegen","path":"/blog/ts-mongo-codegen/"}}},"pageContext":{}}}